{{layout "unprivilege"}}
{{favicon "images/favicon.png" type="image/png"}}
{{fragment "org.wso2.carbon.uuf.common.foundation.jquery-validation"}}
{{title "Home | " @config.appName}}
{{css "css/user-portal.css"}}
{{js "js/signup.js"}}
{{#fillZone "content"}}
    {{#if errorMessage}}
        <div class="alert alert-danger" role="alert">
            <i class="icon fw fw-error"></i><strong>{{t "user-portal.user.signup.error.default"}}</strong>
            {{errorMessage}}
            <button type="button" class="close" aria-label="close" data-dismiss="alert">
                <span aria-hidden="true">
                    <i class="fw fw-cancel"></i>
                </span>
            </button>
        </div>
    {{else}}
        <div class="page-content-wrapper col-xs-12 col-sm-12 col-md-9 col-lg-9 signUp">
            <div class="data-container">
                <div class="signup-form-wrapper">
                    <form method="post" class="form-horizontal" id="self-signUp-form">
                        <div class="form-group">
                            <div class="col-xs-18 col-sm-18 col-md-10 col-lg-8">
                                <h3><b>{{t "user-portal.user.signup.title"}}</b></h3>
                                <h4>{{t "user-portal.user.signup.sub.title"}}</h4></div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                {{#each usernameClaim}}
                                    </br><label for={{this.displayName}}>{{this.displayName}}:
                                    <span>*</span></label>
                                    <input type={{#if this.dataType}}{{this.dataType}}{{else}}"text"{{/if}}
                                            name={{this.claimURI}} id={{this.displayLabel}} class="form-control"
                                            pattern={{#if this.regex}}{{this.regex}}{{/if}}
                                            placeholder={{#if this.defaultValue}}{{this.defaultValue}}{{else}}""{{/if}}
                                            required/>
                                {{/each}}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="password_strength_meter ">
                                <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                    <label for="password">{{t "user-portal.user.signup.password"}}
                                        :<span>*</span></label></br>
                                    <input type="password" name="password" id="password" class="form-control"
                                           data-schemaformat="password" required/>

                                    <div id="password_strength_wrap">
                                        <div class="pwd_str">
                                            <div id="passwordDescription">{{t "user-portal.user.password.notEntered"}}</div>
                                            <div id="passwordStrength" class="strength0"></div>
                                        </div>
                                        <div id="pswd_info">
                                            <i>{{t "user-portal.user.password.validation.info1"}}:</i>
                                            <ul>
                                                <li class="invalid" id="length"><span class="status_icon"></span>
                                                    {{t "user-portal.user.password.validation.info2"}}
                                                </li>
                                                <li class="invalid" id="pnum"><span class="status_icon"></span>
                                                    {{t "user-portal.user.password.validation.info3"}}
                                                </li>
                                                <li class="invalid" id="capital"><span class="status_icon"></span>
                                                    {{t "user-portal.user.password.validation.info4"}}&amp;
                                                    {{t "user-portal.user.password.validation.info5"}}
                                                </li>
                                                <li class="invalid" id="spchar"><span class="status_icon"></span>
                                                    {{t "user-portal.user.password.validation.info6"}}
                                                </li>
                                            </ul>
                                        </div>
                                        <!-- END pswd_info -->
                                    </div>
                                    <!-- END pwd_strength_wrap -->
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                <label for="confirmPassword">{{t "user-portal.user.password.reset.new.confirm"}}
                                    :<span>*</span></label>
                                <input type="password" name="confirmPassword" id="confirmPassword"
                                       class="form-control" required/>
                            </div>
                        </div>

                        <div class="form-group">
                            {{#each signupClaims}}
                                <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                    {{#if this.required}}
                                        <label for={{this.displayLabel}}>{{this.displayName}}:
                                            <span>*</span></label>
                                        <input type={{#if this.dataType}}{{this.dataType}}{{else}}"text"{{/if}}
                                                name={{this.claimURI}} id={{this.displayLabel}} class="form-control"
                                                pattern={{#if this.regex}}{{this.regex}}{{/if}}
                                                placeholder={{#if this.defaultValue}}{{this.defaultValue}}{{else}}""{{/if}}
                                                required/></br>
                                    {{else}}
                                        <label for={{this.displayLabel}}>{{this.displayName}}:</label>
                                        <input type={{#if this.dataType}}{{this.dataType}}{{else}}"text"{{/if}}
                                                name={{this.claimURI}} id={{this.displayLabel}} class="form-control"
                                                pattern={{#if this.regex}}{{this.regex}}{{/if}}
                                                placeholder={{#if this.defaultValue}}{{this.defaultValue}}{{else}}""{{/if}} /></br>
                                    {{/if}}
                                </div>
                            {{else}}
                                {{log "No Defined Claims for the user self sign-up!" level="error"}}
                                <p class="empty">{{t "user-portal.user.signup.no.content"}}</p>
                            {{/each}}
                        </div>


                        <div class="form-group">
                            <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                <label for="securityQuestion">{{t "user-portal.user.signup.security.question"}}:</label>
                                <select>
                                    {{#each challengeQuestions}}
                                        <option value={{this.question}}>{{this.question}}</option>
                                    {{/each}}
                                </select></br>
                                <label for="answer">{{t "user-portal.user.signup.security.question.answer"}}:</label>
                                <input type="answer" name="answer" id="answer" class="form-control" required/>
                            </div>
                        </div>
                        </br>
                        <div class="form-group">
                            <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                <input id="register" class="btn btn-default btn-primary add-margin-right-2x"
                                       type="submit" value="Sign Up"/></div>
                        </div>
                        <h5>{{t "user-portal.user.login.message"}}<a href="{{@contextPath}}/login">
                            &nbsp;{{t "user-portal.user.login.title"}}</a></h5>
                </div>
                </form>
            </div>
        </div>
        </div>
    {{/if}}
{{/fillZone}}

