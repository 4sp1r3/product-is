{{secured}}
{{layout "privilege"}}
{{title (i18n "groups.edit.header") " | " @config.appName}}
{{favicon "images/favicon.png" type="image/png"}}
{{fragment "org.wso2.carbon.uuf.common.foundation.ui.uuf-client"}}
{{fragment "org.wso2.carbon.uuf.common.foundation.ui.jquery-validation"}}
{{css "css/admin-portal.css"}}
{{js "js/edit.js"}}

{{#fillZone "content"}}

    <!-- navbar -->
    <div class="navbar-wrapper" xmlns="http://www.w3.org/1999/html">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="/admin-portal/groups/">
                                <i class="fw fw-left fw-helper fw-helper-circle-outline"></i>
                                {{i18n "go.back"}}
                            </a>
                        </li>
                        <li class="active">
                            <a href="add">
    <span class="icon fw-stack">
    <i class="fw fw-add fw-helper fw-helper-circle-outline"></i>
    </span>
                                {{i18n "groups.add.header"}}
                            </a>
                        </li>
                        <li class="active">
                            <a href="edit">
    <span class="icon fw-stack">
    <i class="fw fw-edit fw-helper fw-helper-circle-outline"></i>
    </span>
                                {{i18n "groups.edit.header"}}
                            </a>
                        </li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </nav>
    </div>
    <!-- /navbar -->

    <div class="body-wrapper">
        <div class="page-header">
            <h1>{{i18n "groups.edit.header"}}</h1>
        </div>

        <ul id="tab" class="nav nav-tabs tabs">
            <li class="active"><a href="#general" title="General" data-toggle="tab"><i class="fw fw-task"
                                                                                       title="General"></i> {{i18n "groups.general.details"}}
            </a></li>
            <li><a href="#users" data-toggle="tab" title="Users"><i class="fw fw-user"
                                                                    title="Users"></i> {{i18n "groups.users"}} </a></li>
            <li><a href="#roles" data-toggle="tab" title="Roles"><i class="fw fw-google-docs"
                                                                    title="Roles"></i> {{i18n "groups.roles"}} </a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="general">
                <div class="col-md-12">
                    <form class="form-horizontal" role="form" method="post" id="editGroupForm">
                        {{#if errorMessage}}
                            <div class="alert alert-danger" role="alert">
                                <i class="icon fw fw-error"></i><strong>{{i18n "group.update.error.default"}}</strong>&nbsp;
                                {{i18n errorMessage}}
                                <button type="button" class="close" aria-label="close" data-dismiss="alert">
                                        <span aria-hidden="true">
                                            <i class="fw fw-cancel"></i>
                                        </span>
                                </button>
                            </div>
                        {{else if updateGroupResult}}
                            <div class="alert alert-success" role="alert">
                                <i class="icon fw fw-success"></i><strong>{{i18n "group.updated.successfully.default"}}</strong>
                                <button type="button" class="close" aria-label="close" data-dismiss="alert">
                <span aria-hidden="true">
                    <i class="fw fw-cancel"></i>
                </span>
                                </button>
                            </div>
                        {{/if}}
                        {{#if domainNames}}
                            <div class="form-group">
                                <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                    <input type="hidden" name="domain" id="domain"
                                           class="form-control"/>
                                    <label for="domainSelector" class="control-label">{{i18n "groups.add.domain"}}
                                        <span class="requiredAstrix"> *</span></label>
                                    <select class="form-control" id="domainSelector"
                                            data-primary="{{primaryDomainName}}">
                                        {{#each domainNames}}
                                            <option value={{this}}>{{this}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                        {{/if}}
                        <div class="form-group">
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-5">
                                <label for="input-groupname" class="control-label">{{i18n "groups.name"}}
                                    <span class="requiredAstrix"> *</span></label>
                                <input class="form-control" name="input-groupname" id="input-groupname"
                                       placeholder="Group Name" type="text">
                                {{#defineZone "groupExistsError-area"}}
                                    <div id="groupExistsError">
                                        <!-- Here is generated content for error when group already exists -->
                                    </div>
                                {{/defineZone}}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-5">
                                <label for="input-description" class="control-label">{{i18n "groups.description"}}
                                    <span class="requiredAstrix"> *</span></label>
                                <input class="form-control" name="input-description" id="input-description"
                                       placeholder="Group Description"
                                       type="text">
                            </div>
                        </div>


                        <input class="btn btn-primary add-margin-bottom-3x" type="submit" name="addGroup" id="addGroup"
                               value="{{i18n "group.edit.button"}}"/>
                    </form>
                </div>
            </div>
            <div class="tab-pane" id="users">
                <div class="col-md-12">
                    {{i18n "groups.users"}}
                    <div class="body-wrapper">
                        <div class="page-header">
                            <h1>{{i18n "overview.users"}}</h1>
                        </div>
                        <!--assign users-->
                        <div class="panel-body">

                            <table class="table table-striped table-hover table-responsive list-table display responsive nowrap data-table selected-users-dataTable"
                                   id="selected-users-dataTable">
                                <thead class="block">
                                <tr class="filter-row-custom">
                                    <th class="select-filter">
                                    </th>
                                    <th class="text-right content-fill text-left-on-grid-view no-wrap">
                                        <button class="btn btn-primary " id="filter-btn" type="submit">
                                            <i class="fw fw fw-search search-icon add-margin-right-1x"></i>
                                        </button>
                                    </th>
                                </tr>

                                </thead>
                                <tbody>

                                <!-- Handlebars Template Appends Here -->
                                </tbody>
                            </table>

                            <!-- button -->
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <div class="input-group input-wrap has-form-control-btn">
                                            <button type="button" class="btn btn-primary" data-toggle="modal"
                                                    data-target="#modalDelete">
                                                {{i18n "assign.users"}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <!-- /button -->
                        </div>

                    </div>
                </div>
            </div>
            <div class="tab-pane" id="roles">
                <div class="col-md-12">
                    {{i18n "groups.roles"}}
                </div>
            </div>
        </div>


        <!-- modal -->
        <div class="modal fade" id="modalDelete" tabindex="-1" role="dialog" aria-labelledby="modalDemo">
            <div class="modal-dialog" role="document">
                <div class="modal-content clearfix">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i
                                class="fw fw-cancel"></i></button>
                        <h3 class="modal-title" id="deleteModalLabel">{{i18n "assign.users"}}</h3>
                    </div>
                    <div class="modal-body add-margin-top-2x add-margin-bottom-2x">
                        <div class="body-wrapper">
                            <div class="page-header">
                                <h1>{{i18n "overview.users"}}</h1>
                            </div>
                            <table class="table table-striped table-hover table-responsive list-table display responsive nowrap data-table user-select-dataTable"
                                   id="groups-table">
                                <thead class="block">
                                <tr class="sort-row">
                                    <th class="content-fill no-sort"></th>
                                    <th class="no-sort">{{i18n "list.actions"}}</th>
                                </tr>

                                <tr class="filter-row-custom">
                                    <th class="select-filter">
                                    </th>
                                    <th data-for="Start"><input type="number" id="offset-value"
                                                                name="offset-value" class="short-input"
                                                                value="0"/></th>
                                    <th data-for="Maximum Records"><input type="number" id="length-value"
                                                                          name="length-value"
                                                                          class="short-input" value="500"/>
                                    </th>
                                </tr>

                                </thead>
                                <tbody>

                                <!-- Handlebars Template Appends Here -->
                                </tbody>
                            </table>
                            <form class="form-horizontal" method="post" id="filterListForm">
                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8">
                                    <input type="hidden" id="action" name="action" value="filter-list">
                                    <input type="hidden" id="claim-uri" name="claim-uri" value="">
                                    <input type="hidden" id="domain-name" name="domain-name" value="">
                                    <div class="row">


                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <form class="form-horizontal" method="post" id="filterListForm1">
                            <button type="button" class="btn btn-primary save">{{i18n "save"}}</button>
                            <button type="button" class="btn btn-default"
                                    data-dismiss="modal">{{i18n "cancel"}}</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /modal -->


    </div>
{{/fillZone}}